/* Button eclipse hover */
@property --wave-progress {
  syntax: '<number>';
  inherits: false;
  initial-value: 0;
}

a.btn, button, a[role="button"]{
  position:relative;
  overflow:hidden;
  cursor:pointer;
  --wave-progress:0;
  --wave-duration:1.1s;
  --wave-ease:cubic-bezier(.22,.61,.28,.99);
  transition:color .4s ease, --wave-progress var(--wave-duration) var(--wave-ease);
}
a.btn{ --fill-to:#092a66; --text-hover:#fff; }
.btn.is-primary, .btn.is-gold, a.btn[data-variant="gold"]{ --fill-to:#000; --text-hover:#FFD160; }

a.btn::before, button::before, a[role="button"]::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;
  background:var(--fill-to, #092a66);
  transform-origin:left center;
  transform:scaleX(var(--wave-progress));
}

a.btn::after, button::after, a[role="button"]::after{
  content:"";
  position:absolute;
  top:50%;
  left:calc(-30% + var(--wave-progress) * 160%);
  width:160%;
  aspect-ratio:1;
  z-index:1;
  transform:
    translate(-50%, -50%)
    scale(calc(.65 + var(--wave-progress) * .35));
  border-radius:50%;
  background:
    radial-gradient(circle at center, rgba(255,255,255,.26) 0 35%, rgba(255,255,255,0) 65%),
    radial-gradient(circle at center, var(--fill-to, #092a66) 0 55%, transparent 75%);
  background-repeat:no-repeat;
  background-size:100% 100%;
  opacity:clamp(0, calc(var(--wave-progress) * 1.3), 1);
  filter:contrast(105%) saturate(102%);
}

a.btn > *, button > *, a[role="button"] > *{ position:relative; z-index:2; }

a.btn:focus-visible, button:focus-visible, a[role="button"]:focus-visible{
  --wave-progress:.86;
}

a.btn:hover, button:hover, a[role="button"]:hover{
  --wave-progress:1;
}

a.btn:active, button:active, a[role="button"]:active{
  --wave-progress:.72;
}

a.btn:focus-visible:active, button:focus-visible:active, a[role="button"]:focus-visible:active{
  --wave-progress:.64;
}

a.btn:is(:hover, :focus-visible, :active),
a[role="button"]:is(:hover, :focus-visible, :active){ color:var(--text-hover,#fff); }
button:is(:hover, :focus-visible, :active){ color:var(--text-hover,#FFD160); }

@media (prefers-reduced-motion: reduce){
  a.btn, button, a[role="button"]{ --wave-duration:0.01ms; }
  a.btn::after, button::after, a[role="button"]::after{ opacity:0; }
}
